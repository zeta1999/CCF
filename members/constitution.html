

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Constitution &mdash; CCF  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Proposing and Voting for a Proposal" href="proposals.html" />
    <link rel="prev" title="Member Governance" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CCF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">CCF Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Start Here</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Member Governance</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Constitution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#models">Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#non-member-operators">Non-member operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operating-members">Operating members</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proposals.html">Proposing and Voting for a Proposal</a></li>
<li class="toctree-l2"><a class="reference internal" href="open_network.html">Opening a Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="accept_recovery.html">Accepting Recovery and Submitting Shares</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_member_operations.html">Common Governance Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="adding_member.html">Adding New Members</a></li>
<li class="toctree-l2"><a class="reference internal" href="member_rpc_api.html">Member RPC API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Writing CCF Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operators/index.html">Operating a Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">Using CCF Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CCF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Member Governance</a> &raquo;</li>
        
      <li>Constitution</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/Microsoft/CCF/blob/master/sphinx/source/members/constitution.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="constitution">
<h1>Constitution<a class="headerlink" href="#constitution" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../glossary.html#term-Constitution"><span class="xref std std-term">constitution</span></a> defines the set of rules and conditions (as a Lua script) that members must follow for their proposals to be accepted. For example, in a CCF network governed by <cite>4</cite> members, a strict majority constitution would only execute proposals once <cite>3</cite> members (<cite>4/2 + 1</cite>) have voted for that proposal.</p>
<p>Votes for the proposal are evaluated by the constitution’s <code class="docutils literal notranslate"><span class="pre">pass</span></code> function. If the <cite>pass</cite> function returns <code class="docutils literal notranslate"><span class="pre">true</span></code>, the vote is passed, and its consequences are applied to the KV in a transaction.</p>
<p>Examples of constitution include (see <a class="reference internal" href="#models"><span class="std std-ref">Models</span></a> for further details):</p>
<ul class="simple">
<li><p>Strict majority (<a class="reference external" href="https://github.com/microsoft/CCF/blob/master/src/runtime_config/gov.lua">simple constitution</a>) that implements a “one-member, one-vote” constitution, with a majority rule. Votes on so-called sensitive tables, such as the one containing the constitution itself, require unanimity.</p></li>
<li><p>Strict majority with member veto (<a class="reference external" href="https://github.com/microsoft/CCF/blob/master/src/runtime_config/gov_veto.lua">simple constitution with veto</a>) similar to the Strict majority constitution, but where each member is allowed to veto any proposal.</p></li>
<li><p>Operating member + strict majority (<a class="reference external" href="https://github.com/microsoft/CCF/blob/master/src/runtime_config/operator_gov.lua">operating member constitution</a>) that extends the “strict majority” constitution by defining an operating member allowed to add new nodes to the network, retire existing ones, and allow new versions of the code.</p></li>
</ul>
<p>Once the initial set of members have agreed on a constitution, the corresponding Lua file can be given to operators to create a new network (see <a class="reference internal" href="../operators/start_network.html#starting-a-new-network"><span class="std std-ref">Starting a New Network</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The constitution can always be updated after the CCF network has been opened, subject to the existing constitution rules.</p>
</div>
<div class="section" id="models">
<h2>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h2>
<p>The operators of a CCF network do not necessarily overlap with the members of that network. Although the scriptability of the governance model effectively allows a large number of possible arrangements, the following two schemes seem most likely:</p>
<div class="section" id="non-member-operators">
<h3>Non-member operators<a class="headerlink" href="#non-member-operators" title="Permalink to this headline">¶</a></h3>
<p>It is possible for a set of operators to host a CCF network without being members. These operators could:</p>
<ul class="simple">
<li><p>Start the network</p></li>
<li><p>Hand it over to the members for them to Open (see <a class="reference internal" href="open_network.html#opening-a-network"><span class="std std-ref">Opening a Network</span></a>)</p></li>
</ul>
<p>In case of catastrophic failure, operators could also:</p>
<ul class="simple">
<li><p>Start a network in recovery mode from the ledger</p></li>
<li><p>Hand it over to the members for them to Open (see <span class="xref std std-ref">members/common_member_operations:Accepting Recovery</span>)</p></li>
</ul>
<p>Finally, operators could:</p>
<ul class="simple">
<li><p>Propose new nodes (TR, Section IV D)</p></li>
<li><p>Notify the members, who would have to review and vote on the proposal</p></li>
</ul>
<p>Operators would not be able to add or remove members or users to the service. They would not be able to update the code of the service (and therefore apply security patches). Because they could propose new nodes, but would require member votes before nodes are allowed to participate in the network, the operators’ ability to mitigate node failures may be limited and delayed.</p>
<p>This model keeps operators out of the trust boundary for the service.</p>
</div>
<div class="section" id="operating-members">
<h3>Operating members<a class="headerlink" href="#operating-members" title="Permalink to this headline">¶</a></h3>
<p>If network operators are made members, they could have the ability to:</p>
<ul class="simple">
<li><p>Update code (in particular, apply security patches)</p></li>
<li><p>Add and remove nodes to and from the network</p></li>
</ul>
<p>Essentially, operators gain the ability to fix security issues and mitigate service degradation of the network. In this situation however, the operator is inside the trust boundary.</p>
<p>The constitution can limit or remove the operating members’ ability to:</p>
<ul class="simple">
<li><p>Add and remove members and users</p></li>
<li><p>Complete a recovery</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These limits are weakened by the operators’ ability to update the code. A code update could contain changes that allow the operator to bypass constitution restrictions. Work is in progress to propose a service that would effectively mitigate this problem. In the absence of code updates however, other members of the service could trust that the operating members have not added or removed members and users, and have not executed a recovery.</p>
</div>
<p>This <a class="reference external" href="https://github.com/microsoft/CCF/blob/master/src/runtime_config/operator_gov.lua">operating member constitution</a> shows how some members can be made operators.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="proposals.html" class="btn btn-neutral float-right" title="Proposing and Voting for a Proposal" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Member Governance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Microsoft Research

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>