

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RPC API &mdash; CCF  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="https://unpkg.com/mermaid@8.4.8/dist/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Glossary" href="../glossary.html" />
    <link rel="prev" title="Issuing Commands" href="issue_commands.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> CCF
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">CCF Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Start Here</a></li>
<li class="toctree-l1"><a class="reference internal" href="../members/index.html">Member Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Writing CCF Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../operators/index.html">Operating a Network</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Using CCF Applications</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deploy_app.html">Deploying an Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="issue_commands.html">Issuing Commands</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">RPC API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-methods">Common Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getcommit">getCommit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getprimaryinfo">getPrimaryInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getmetrics">getMetrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getschema">getSchema</a></li>
<li class="toctree-l4"><a class="reference internal" href="#listmethods">listMethods</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CCF</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Using CCF Applications</a> &raquo;</li>
        
      <li>RPC API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/Microsoft/CCF/blob/master/sphinx/source/users/rpc_api.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rpc-api">
<h1>RPC API<a class="headerlink" href="#rpc-api" title="Permalink to this headline">¶</a></h1>
<p>The available RPC methods vary depending on your TLS connection identity. Some methods are common to all frontends, others are restricted to the member and node frontends, and the app logic is only exposed to users.</p>
<p>The API can also be retrieved from a running service using the <a class="reference internal" href="#listmethods">listMethods</a> and <a class="reference internal" href="#getschema">getSchema</a> methods. For example, using curl:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl https://&lt;ccf-node-address&gt;/users/listMethods --cacert networkcert.pem --key user0_privk.pem --cert user0_cert.pem
<span class="o">{</span>
  <span class="s2">&quot;methods&quot;</span>: <span class="o">[</span>
    <span class="s2">&quot;LOG_get&quot;</span>,
    <span class="s2">&quot;LOG_get_pub&quot;</span>,
    <span class="s2">&quot;LOG_record&quot;</span>,
    <span class="s2">&quot;LOG_record_anonymous&quot;</span>,
    <span class="s2">&quot;LOG_record_prefix_cert&quot;</span>,
    <span class="s2">&quot;LOG_record_pub&quot;</span>,
    <span class="s2">&quot;getCommit&quot;</span>,
    <span class="s2">&quot;getMetrics&quot;</span>,
    <span class="s2">&quot;getNetworkInfo&quot;</span>,
    <span class="s2">&quot;getPrimaryInfo&quot;</span>,
    <span class="s2">&quot;getReceipt&quot;</span>,
    <span class="s2">&quot;getSchema&quot;</span>,
    <span class="s2">&quot;listMethods&quot;</span>,
    <span class="s2">&quot;mkSign&quot;</span>,
    <span class="s2">&quot;verifyReceipt&quot;</span>,
    <span class="s2">&quot;whoAmI&quot;</span>,
    <span class="s2">&quot;whoIs&quot;</span>
  <span class="o">]</span>
<span class="o">}</span>

$ curl https://&lt;ccf-node-address&gt;/users/getSchema --cacert networkcert.pem --key user0_privk.pem --cert user0_cert.pem --data-binary <span class="s1">&#39;{&quot;method&quot;: &quot;getPrimaryInfo&quot;}&#39;</span> -H <span class="s2">&quot;content-type: application/json&quot;</span>
<span class="o">{</span>
  <span class="s2">&quot;params_schema&quot;</span>: <span class="o">{}</span>,
  <span class="s2">&quot;result_schema&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;</span><span class="nv">$schema</span><span class="s2">&quot;</span>: <span class="s2">&quot;http://json-schema.org/draft-07/schema#&quot;</span>,
    <span class="s2">&quot;properties&quot;</span>: <span class="o">{</span>
      <span class="s2">&quot;primary_host&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>
      <span class="o">}</span>,
      <span class="s2">&quot;primary_id&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;maximum&quot;</span>: <span class="m">18446744073709551615</span>,
        <span class="s2">&quot;minimum&quot;</span>: <span class="m">0</span>,
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;number&quot;</span>
      <span class="o">}</span>,
      <span class="s2">&quot;primary_port&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;string&quot;</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">&quot;required&quot;</span>: <span class="o">[</span>
      <span class="s2">&quot;primary_id&quot;</span>,
      <span class="s2">&quot;primary_host&quot;</span>,
      <span class="s2">&quot;primary_port&quot;</span>
    <span class="o">]</span>,
    <span class="s2">&quot;title&quot;</span>: <span class="s2">&quot;getPrimaryInfo/result&quot;</span>,
    <span class="s2">&quot;type&quot;</span>: <span class="s2">&quot;object&quot;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="section" id="common-methods">
<h2>Common Methods<a class="headerlink" href="#common-methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="getcommit">
<h3>getCommit<a class="headerlink" href="#getcommit" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getcommit-params">
<h4>getCommit/params<a class="headerlink" href="#getcommit-params" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p>commit</p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>maximum</p></td>
<td><p>9223372036854775807</p></td>
</tr>
<tr class="row-odd"><td><p>minimum</p></td>
<td><p>-9223372036854775808</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="getcommit-result">
<h4>getCommit/result<a class="headerlink" href="#getcommit-result" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>commit</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>maximum</p></td>
<td><p>9223372036854775807</p></td>
</tr>
<tr class="row-odd"><td><p>minimum</p></td>
<td><p>-9223372036854775808</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>term</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>maximum</p></td>
<td><p>18446744073709551615</p></td>
</tr>
<tr class="row-even"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="getprimaryinfo">
<h3>getPrimaryInfo<a class="headerlink" href="#getprimaryinfo" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getprimaryinfo-result">
<h4>getPrimaryInfo/result<a class="headerlink" href="#getprimaryinfo-result" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>primary_host</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>primary_id</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>maximum</p></td>
<td><p>18446744073709551615</p></td>
</tr>
<tr class="row-even"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>primary_port</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="getmetrics">
<h3>getMetrics<a class="headerlink" href="#getmetrics" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getmetrics-result">
<h4>getMetrics/result<a class="headerlink" href="#getmetrics-result" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="15"><ul class="simple">
<li><p><strong>histogram</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td colspan="3"><ul class="simple">
<li><p><strong>buckets</strong></p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>high</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>maximum</p></td>
<td><p>2147483647</p></td>
</tr>
<tr class="row-even"><td><p>minimum</p></td>
<td><p>-2147483648</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>low</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>maximum</p></td>
<td><p>2147483647</p></td>
</tr>
<tr class="row-odd"><td><p>minimum</p></td>
<td><p>-2147483648</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><ul class="simple">
<li><p><strong>overflow</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-odd"><td><p>maximum</p></td>
<td><p>18446744073709551615</p></td>
</tr>
<tr class="row-even"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>underflow</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>number</em></p></td>
</tr>
<tr class="row-even"><td><p>maximum</p></td>
<td><p>18446744073709551615</p></td>
</tr>
<tr class="row-odd"><td><p>minimum</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td colspan="4"><ul class="simple">
<li><p><strong>tx_rates</strong></p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="getschema">
<h3>getSchema<a class="headerlink" href="#getschema" title="Permalink to this headline">¶</a></h3>
<div class="section" id="getschema-params">
<h4>getSchema/params<a class="headerlink" href="#getschema-params" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="2"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>method</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="getschema-result">
<h4>getSchema/result<a class="headerlink" href="#getschema-result" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>properties</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li><p><strong>params_schema</strong></p></li>
</ul>
</td>
<td><p><span class="xref std std-ref">http://json-schema.org/draft-07/schema#</span></p></td>
</tr>
<tr class="row-even"><td><ul class="simple">
<li><p><strong>result_schema</strong></p></li>
</ul>
</td>
<td><p><span class="xref std std-ref">http://json-schema.org/draft-07/schema#</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="listmethods">
<h3>listMethods<a class="headerlink" href="#listmethods" title="Permalink to this headline">¶</a></h3>
<div class="section" id="listmethods-result">
<h4>listMethods/result<a class="headerlink" href="#listmethods-result" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>type</p></td>
<td colspan="3"><p><em>object</em></p></td>
</tr>
<tr class="row-even"><td colspan="4"><p>properties</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><ul class="simple">
<li><p><strong>methods</strong></p></li>
</ul>
</td>
<td><p>type</p></td>
<td colspan="2"><p><em>array</em></p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>items</p></td>
</tr>
<tr class="row-odd"><td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>type</p></td>
<td><p><em>string</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../glossary.html" class="btn btn-neutral float-right" title="Glossary" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="issue_commands.html" class="btn btn-neutral float-left" title="Issuing Commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Microsoft Research

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>